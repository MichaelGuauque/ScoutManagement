<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestionar Progresiones</title>
    <link href="https://fonts.googleapis.com/css2?family=Figtree:wght@300;400;500;600;700&display=swap"
          rel="stylesheet">
    <link rel="stylesheet" th:href="@{/style/verProgresionesStyle.css}">
</head>
<body>
<!-- Botón hamburguesa para móviles -->
<button class="sidebar-toggle" id="sidebarToggle">
    <div class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
    </div>
</button>

<!-- Overlay para fondos oscuros al abrir sidebar en móvil -->
<div class="sidebar-overlay" id="sidebarOverlay"></div>
<div class="sidebar" id="sidebar">
    <div class="logo-contenedor">
        <img th:src="@{/img/logoApli.svg}" alt="Scout Management" class="logo">
    </div>

    <div class="perfil-contenedor">
        <img th:src="@{/img/perfil.svg}" alt="Perfil" class="perfil">
        <div class="perfil-info">
            <p class="nombre-perfil">Miguel Andres M...</p>
            <p class="cargo-perfil">Joven - Lobato</p>
        </div>
        <div class="perfil-flecha">
            <img class="flecha-perfil" th:src="@{/img/flechita.svg}" alt="Desplegar">
        </div>

        <!-- Menú desplegable del perfil -->
        <div class="perfil-menu" id="perfilMenu">
            <ul>
                <li class="nav-link">
                    <img th:src="@{/img/sesion.svg}" alt="Ver Perfil" class="perfil-menu-icon">
                    <span>Ver Perfil</span>
                </li>
                <li class="nav-link">
                    <img th:src="@{/img/cierreSesion.svg}" alt="Cerrar Sesión" class="perfil-menu-icon">
                    <a class="cerrar-sesion" th:href="@{/cerrar}">Cerrar Sesión</a>
                </li>
            </ul>
        </div>
    </div>

    <div class="linea-divisoria"></div>

    <div class="contenido-central">
        <nav class="menu">
            <ul>
                <li class="menu-item">
                    <a th:href="@{/home-admin}" class="main-button nav-link" style="text-decoration: none;">
                        <img th:src="@{/img/Casa.svg}" alt="Inicio">
                        <span>Inicio</span>
                    </a>
                </li>


                <li class="menu-item">
                    <div class="main-button">
                        <img th:src="@{/img/Calendario.svg}" alt="Actividades">
                        <span>Actividades</span>
                        <img th:src="@{/img/flechita.svg}" alt="Flecha" class="arrow-img"
                             style="width: 15px; height: 15px;">
                    </div>
                    <ul class="submenu">
                        <li class="nav-link">
                            <a th:href="@{/actividades}">
                                <img th:src="@{/img/calendario(consulta).svg}" alt="Consultar" class="submenu-icon">Consultar
                                Actividades
                            </a>
                        </li>
                        <li class="nav-link">
                            <a th:href="@{/actividades/crear}">
                                <img th:src="@{/img/calendario(agregar).svg}" alt="Agregar" class="submenu-icon">Crear
                                Actividad
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="menu-item">
                    <div class="main-button">
                        <img th:src="@{/img/grafico.svg}" alt="Progresiones">
                        <span>Progresiones</span>
                        <img th:src="@{/img/flechita.svg}" alt="Flecha" class="arrow-img"
                             style="width: 15px; height: 15px;">
                    </div>
                    <ul class="submenu">
                        <li class="nav-link"><img th:src="@{/img/retos.svg}" alt="Consultar" class="submenu-icon">Gestionar
                            Retos
                        </li>
                        <li class="nav-link">
                            <a th:href="@{/progresiones/miProgreso}">
                                <img th:src="@{/img/retos(miembros).svg}" alt="Agregar"
                                     class="submenu-icon">Progresion Miembros
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="menu-item">
                    <div class="main-button">
                        <img th:src="@{/img/usuarios.svg}" alt="Miembros">
                        <span>Miembros</span>
                        <img th:src="@{/img/flechita.svg}" alt="Flecha" class="arrow-img"
                             style="width: 15px; height: 15px;">
                    </div>
                    <ul class="submenu">
                        <li class="nav-link">
                            <a th:href="@{/miembros}">
                                <img th:src="@{/img/usuario(buscar).svg}" alt="Consultar"
                                     class="submenu-icon">Consultar Miembros
                            </a>
                        </li>
                        <li class="nav-link">
                            <a th:href="@{/miembros/jefes}">
                                <img th:src="@{/img/usuario(consulJefe).svg}" alt="Agregar"
                                     class="submenu-icon">Consultar Jefes
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </nav>
    </div>

    <div class="linea-divisoria"></div>

    <div class="configuracion nav-link">
        <img th:src="@{/img/tuerca.svg}" alt="Configuración">
        <span>Configuración de Cuenta</span>
    </div>
</div>

<!-- Contenido principal -->
<!-- Aquí va el contenido de la página -->

<main>
    <div class="container">
        <div class="header">
            <h1 class="encabezado">Mi Camino Scout</h1>
            <p class="description">Aquí puedes ver todo lo que has logrado y lo que te falta por descubrir. Revisa los retos de cada etapa y sigue avanzando en tu aventura scout. ¡Tú eres el protagonista de tu progreso!</p>
        </div>

        <div class="divider-line"></div>

        <div class="progress-container">
            <h2 class="progress-title" th:text="'Tasa de Completado de ' + ${etapaDestacada}"></h2>
            <div class="progress-bar-wrapper">
                <div class="progress-text" id="progress-text" th:text="${#numbers.formatDecimal(progresoDestacado, 0, 0) + '% Completado'}">% Completado</div>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progress-bar" th:style="'width: ' + ${progresoDestacado} + '%'"></div>
                </div>
            </div>

        </div>

        <div class="controls">
            <div class="tabs">
                <th:block th:each="etapa, iterStat : ${etapas}">
                    <button class="tab-button"
                            th:classappend="${etapa.nombre == etapaDestacada ? 'active' : ''}"
                            th:data-tab="'etapa-' + ${etapa.id}"
                            th:data-etapa-nombre="${etapa.nombre}"
                            th:data-progreso="${progresoPorEtapa.get(etapa.id)}"
                            th:text="${etapa.nombre}">Etapa</button>
                </th:block>
            </div>

        </div>

        <!-- Contenido de cada etapa -->
        <th:block th:each="etapa : ${etapas}">
            <div th:id="'etapa-' + ${etapa.id}" class="content-area"
                 th:classappend="${etapa.nombre == etapaDestacada ? 'active' : ''}">
                <table>
                    <thead>
                    <tr>
                        <th class="number-colm">#</th>
                        <th>Descripción</th>
                        <th class="action-col">Estado</th>
                    </tr>
                    </thead>
                    <tbody>
                    <!-- Iterar sobre los retos de la etapa actual -->
                    <tr th:each="reto, iterStat : ${retosPorEtapa.get(etapa.nombre)}">
                        <td class="number-colm" th:text="${iterStat.count < 10 ? '0' + iterStat.count : iterStat.count}">01</td>
                        <td th:text="${reto.descripcion}">Descripción del reto</td>
                        <td class="action-cell">
                            <!-- Si el reto está completado, mostrar "Hecho", sino mostrar "Pendiente" o checkbox -->
                            <div th:if="${estadoRetosPorEtapa.get(etapa.nombre).get(reto.id)}" class="reto-completado">
                                Hecho
                            </div>
                            <div th:unless="${estadoRetosPorEtapa.get(etapa.nombre).get(reto.id)}" class="reto-Pendiente">
                                Pendiente
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </th:block>

        <div class="medallas-container">
            <div class="cabezera">
                <h2>Insignias Obtenidas</h2>
            </div>
            <div class="insignia-container">
                <th:block th:each="etapa : ${etapas}">
                    <div class="insignia">
                        <img th:if="${etapasObtenidas.contains(etapa.id)}"
                             th:src="@{'/img/Group' + ${gruposRamas.get(etapa.rama.name())} + '.svg'}"
                             alt="Insignia obtenida" class="insignia-icon">

                        <img th:unless="${etapasObtenidas.contains(etapa.id)}"
                             th:src="@{/img/medalla.svg}"
                             alt="Insignia pendiente" class="insignia-icon">
                        <span class="insignia-name" th:text="${etapa.nombre}">Nombre Etapa</span>
                    </div>

                </th:block>
            </div>
        </div>

    </div>

    <div th:fragment="footer">
        <footer class="footer">
            <div class="footer-container">
                <div class="footer-top">
                    <div class="footer-logo">
                        <img th:src="@{/img/logo605.png}" alt="Scouts Jaguares 605" class="logo-img">
                    </div>

                    <div class="footer-info">
                        <div class="footer-title">
                            <div class="dot"></div>
                            <h2>Scouts Jaguares 605</h2>
                        </div>
                        <p class="footer-slogan">Listos para servir, listos para rugir.</p>

                        <div class="footer-address">
                            <img th:src="@{/img/ubicacion.svg}" alt="Ubicación" class="ubicacion-icon">
                            <p class="footer-ubi">Palmira, Valle del Cauca – Barrio Las Delicias<br>
                                Sede: Casa de la Juventud, Calle 30 #29-15</p>
                        </div>
                    </div>

                    <div class="footer-social">
                        <a href="#" class="social-icon">
                            <img th:src="@{/img/facebook.svg}" alt="Facebook">
                        </a>
                        <a href="#" class="social-icon">
                            <img th:src="@{/img/instagram.svg}" alt="Instagram">
                        </a>
                        <a href="#" class="social-icon">
                            <img th:src="@{/img/tiktok.svg}" alt="TikTok">
                        </a>
                    </div>
                </div>

                <div class="footer-bottom">
                    <nav class="footer-nav">
                        <a href="#" class="footer-link">Inicio</a>
                        <a href="#" class="footer-link">Política de Tratamiento de Datos</a>
                        <a href="#" class="footer-link">Configuración</a>
                    </nav>
                    <p class="footer-copyright">© 2025 Todos los derechos reservados</p>
                </div>
            </div>
        </footer>
    </div>
</main>

    <!-- Footer -->
    
    <!-- JavaScript para la funcionalidad -->
    <!-- Añade esto antes de los scripts -->
<script id="progresosData" type="application/json" th:text="${progresoJson}"></script>
<!--<script th:inline="javascript">-->
<!--    var datosProgreso = /*[[${progresoJson}]]*/ {};-->
<!--    // Usar directamente sin escapeJava() ni toJson()-->
<!--</script>-->
    <script>
        // Configuración de paginación
        document.addEventListener('DOMContentLoaded', function() {
        // Constantes de configuración
        const itemsPerPage = 5; // Puedes ajustar este número según prefieras

        // Inicializar paginación para cada etapa
        const etapas = document.querySelectorAll('.content-area');
        etapas.forEach(etapa => {
            initPaginationForTab(etapa.id);
        });

        // Actualizar la paginación cuando se cambia de pestaña
        const tabButtons = document.querySelectorAll('.tab-button');
        tabButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Desactivar todas las pestañas y contenidos
                tabButtons.forEach(btn => btn.classList.remove('active'));
                etapas.forEach(etapa => etapa.classList.remove('active'));

                // Activar la pestaña seleccionada
                this.classList.add('active');
                const tabId = this.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');

                // Reiniciar la paginación para la pestaña actual
                initPaginationForTab(tabId);
            });
        });

        // Función para inicializar la paginación en una etapa específica
        function initPaginationForTab(tabId) {
            const etapaElement = document.getElementById(tabId);
            if (!etapaElement) return;

            const table = etapaElement.querySelector('table');
            if (!table) return;

            const rows = table.querySelectorAll('tbody tr');
            const totalRows = rows.length;

            // Si ya existe, eliminar el contenedor de paginación anterior
            const existingPagination = etapaElement.querySelector('.pagination-container');
            if (existingPagination) {
                existingPagination.remove();
            }

            // Crear el contenedor de paginación
            const paginationContainer = document.createElement('div');
            paginationContainer.className = 'pagination-container';

            const totalPages = Math.ceil(totalRows / itemsPerPage);
            let currentPage = 1;

            // No mostrar paginación si solo hay una página
            if (totalPages <= 1) {
                // Mostrar todas las filas
                rows.forEach(row => {
                    row.style.display = '';
                });
                return;
            }

            // Crear elementos de paginación
            const pagination = document.createElement('div');
            pagination.className = 'pagination';

            const prevButton = document.createElement('a');
            prevButton.className = 'pagination-btn';
            prevButton.id = 'prevPage-' + tabId;
            prevButton.textContent = 'Anterior';
            prevButton.style.display = 'none'; // Oculto inicialmente

            const pageInfo = document.createElement('span');
            pageInfo.className = 'pagination-info';
            pageInfo.id = 'pageInfo-' + tabId;

            const nextButton = document.createElement('a');
            nextButton.className = 'pagination-btn';
            nextButton.id = 'nextPage-' + tabId;
            nextButton.textContent = 'Siguiente';

            pagination.appendChild(prevButton);
            pagination.appendChild(pageInfo);
            pagination.appendChild(nextButton);
            paginationContainer.appendChild(pagination);

            // Agregar la paginación después de la tabla
            table.parentNode.insertBefore(paginationContainer, table.nextSibling);

            // Función para actualizar la tabla según la página actual
            function updateTableRows() {
                const start = (currentPage - 1) * itemsPerPage;
                const end = start + itemsPerPage;

                rows.forEach((row, index) => {
                    if (index >= start && index < end) {
                        row.style.display = ''; // Mostrar la fila
                    } else {
                        row.style.display = 'none'; // Ocultar la fila
                    }
                });

                // Actualizar la información de la página
                pageInfo.textContent = `Página ${currentPage} de ${totalPages}`;

                // Mostrar u ocultar los botones de navegación
                prevButton.style.display = currentPage > 1 ? '' : 'none';
                nextButton.style.display = currentPage < totalPages ? '' : 'none';
            }

            // Manejar el botón "Anterior"
            prevButton.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    updateTableRows();
                }
            });

            // Manejar el botón "Siguiente"
            nextButton.addEventListener('click', () => {
                if (currentPage < totalPages) {
                    currentPage++;
                    updateTableRows();
                }
            });

            // Inicializar la tabla
            updateTableRows();
        }
    });
    </script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Variables globales
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const progressTitle = document.querySelector('.progress-title');
        const tabButtons = document.querySelectorAll('.tab-button');
        const contentAreas = document.querySelectorAll('.content-area');

        // Cargar los datos de progreso del JSON
        let progresosPorEtapa = {};
        try {
            const progresosDataElement = document.getElementById('progresosData');
            if (progresosDataElement) {
                progresosPorEtapa = JSON.parse(progresosDataElement.textContent);
            }
        } catch (error) {
            console.error('Error al cargar los datos de progreso:', error);
        }

        // Función para actualizar la barra de progreso
        function updateProgressBar(progreso, etapaNombre) {
            if (progreso !== null && !isNaN(progreso)) {
                const progresoValue = parseFloat(progreso);
                progressBar.style.width = progresoValue + '%';
                progressText.textContent = Math.round(progresoValue) + '% Completado';

                if (etapaNombre) {
                    progressTitle.textContent = 'Tasa de Completado de ' + etapaNombre;
                }
            }
        }

        // Gestión de pestañas
        tabButtons.forEach(button => {
            button.addEventListener('click', function() {
                // 1. Obtener datos del botón
                const tabId = this.getAttribute('data-tab');
                const etapaNombre = this.getAttribute('data-etapa-nombre');

                // 2. Extraer el ID de la etapa del tabId (formato: 'etapa-X')
                const etapaId = tabId.split('-')[1];

                // 3. Obtener el progreso, primero del mapa JSON y como respaldo del atributo
                let progreso;
                if (progresosPorEtapa[etapaId]) {
                    progreso = progresosPorEtapa[etapaId];
                } else {
                    progreso = this.getAttribute('data-progreso');
                }

                // 4. Activar la pestaña correcta
                tabButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');

                // 5. Mostrar el contenido correcto
                contentAreas.forEach(area => {
                    area.classList.remove('active');
                    if (area.id === tabId) {
                        area.classList.add('active');
                    }
                });

                // 6. Actualizar la barra de progreso
                updateProgressBar(progreso, etapaNombre);
            });
        });

        // Inicializar con la pestaña activa
        const activeTab = document.querySelector('.tab-button.active');
        if (activeTab) {
            const tabId = activeTab.getAttribute('data-tab');
            const etapaId = tabId.split('-')[1];
            const etapaNombre = activeTab.getAttribute('data-etapa-nombre');

            let progreso;
            if (progresosPorEtapa[etapaId]) {
                progreso = progresosPorEtapa[etapaId];
            } else {
                progreso = activeTab.getAttribute('data-progreso');
            }

            updateProgressBar(progreso, etapaNombre);
        }

        // Código para menú perfil (del script original)
        const perfilFlecha = document.querySelector('.perfil-flecha');
        if (perfilFlecha) {
            perfilFlecha.addEventListener('click', function() {
                document.getElementById('perfilMenu').classList.toggle('show-menu');
            });

            document.addEventListener('click', function(event) {
                const perfilMenu = document.getElementById('perfilMenu');
                if (perfilMenu && !perfilMenu.contains(event.target) && !perfilFlecha.contains(event.target)) {
                    perfilMenu.classList.remove('show-menu');
                }
            });
        }

        // Código para sidebar (del script original)
        const sidebarToggle = document.getElementById('sidebarToggle');
        const sidebar = document.getElementById('sidebar');
        const hamburger = document.getElementById('hamburger');
        const overlay = document.getElementById('sidebarOverlay');

        if (sidebarToggle && sidebar && hamburger && overlay) {
            sidebarToggle.addEventListener('click', function() {
                sidebar.classList.toggle('open');
                hamburger.classList.toggle('open');
                overlay.classList.toggle('active');
                sidebarToggle.classList.toggle('moved');
            });

            overlay.addEventListener('click', function() {
                sidebar.classList.remove('open');
                hamburger.classList.remove('open');
                overlay.classList.remove('active');
                sidebarToggle.classList.remove('moved');
            });

            // Cerrar sidebar en enlaces y resize
            document.querySelectorAll('.nav-link').forEach(item => {
                item.addEventListener('click', () => {
                    if (window.innerWidth <= 768) {
                        sidebar.classList.remove('open');
                        hamburger.classList.remove('open');
                        overlay.classList.remove('active');
                        sidebarToggle.classList.remove('moved');
                    }
                });
            });

            window.addEventListener('resize', function() {
                if (window.innerWidth > 768) {
                    sidebar.classList.remove('open');
                    hamburger.classList.remove('open');
                    overlay.classList.remove('active');
                    sidebarToggle.classList.remove('moved');
                }
            });
        }

        // Gestión de submenús
        document.querySelectorAll('.main-button').forEach(button => {
            button.addEventListener('click', event => {
                event.stopPropagation();
                const parent = button.parentElement;
                const wasActive = parent.classList.contains('active');
                document.querySelectorAll('.menu-item.active').forEach(item => item.classList.remove('active'));
                if (!wasActive) parent.classList.add('active');
            });
        });
    });
</script>

<!--    <script>-->
<!--    document.addEventListener('DOMContentLoaded', function() {-->
<!--        // Progress bar listeners-->
<!--        const progressInput = document.getElementById('progress-input');-->
<!--        const progressBar = document.getElementById('progress-bar');-->
<!--        const progressText = document.getElementById('progress-text');-->
<!--        const progressTitle = document.querySelector('.progress-title');-->

<!--        function updateProgress() {-->
<!--            let progressValue = parseInt(progressInput.value);-->
<!--            if (isNaN(progressValue)) progressValue = 0;-->
<!--            progressValue = Math.max(0, Math.min(100, progressValue));-->
<!--            progressInput.value = progressValue;-->
<!--            progressBar.style.width = progressValue + '%';-->
<!--            progressText.textContent = progressValue + '% Completado';-->
<!--        }-->

<!--        function increaseProgress() {-->
<!--            let currentValue = parseInt(progressInput.value);-->
<!--            if (isNaN(currentValue)) currentValue = 0;-->
<!--            progressInput.value = Math.min(100, currentValue + 10);-->
<!--            updateProgress();-->
<!--        }-->

<!--        function decreaseProgress() {-->
<!--            let currentValue = parseInt(progressInput.value);-->
<!--            if (isNaN(currentValue)) currentValue = 0;-->
<!--            progressInput.value = Math.max(0, currentValue - 10);-->
<!--            updateProgress();-->
<!--        }-->

<!--        // Tab navigation-->
<!--        const tabButtons = document.querySelectorAll('.tab-button');-->
<!--        const contentAreas = document.querySelectorAll('.content-area');-->
<!--        const progresosPorEtapa = JSON.parse(document.getElementById('progresosData').textContent);-->

<!--        tabButtons.forEach(button => {-->
<!--            button.addEventListener('click', function() {-->
<!--                tabButtons.forEach(btn => btn.classList.remove('active'));-->
<!--                contentAreas.forEach(area => area.classList.remove('active'));-->
<!--                this.classList.add('active');-->
<!--                const contentId = this.getAttribute('data-tab');-->
<!--                document.getElementById(contentId).classList.add('active');-->

<!--                const progreso = progresosPorEtapa[contentId];-->
<!--                progressBar.style.width = progreso + '%';-->
<!--                progressText.textContent = Math.round(progreso) + '% Completado';-->
<!--                progressTitle.textContent = 'Tasa de Completado de ' + contentId;-->
<!--            });-->
<!--        });-->

<!--        const activeTab = document.querySelector('.tab-button.active');-->
<!--        if (activeTab) {-->
<!--            const contentId = activeTab.getAttribute('data-tab');-->
<!--            const progreso = progresosPorEtapa[contentId];-->
<!--            progressBar.style.width = progreso + '%';-->
<!--            progressText.textContent = Math.round(progreso) + '% Completado';-->
<!--        }-->

<!--        // Menú perfil toggle-->
<!--        document.querySelector('.perfil-flecha').addEventListener('click', function() {-->
<!--            document.getElementById('perfilMenu').classList.toggle('show-menu');-->
<!--        });-->

<!--        document.addEventListener('click', function(event) {-->
<!--            const perfilMenu = document.getElementById('perfilMenu');-->
<!--            const perfilFlecha = document.querySelector('.perfil-flecha');-->
<!--            if (!perfilMenu.contains(event.target) && !perfilFlecha.contains(event.target)) {-->
<!--                perfilMenu.classList.remove('show-menu');-->
<!--            }-->
<!--        });-->

<!--        // Sidebar y navegación-->
<!--        const sidebarToggle = document.getElementById('sidebarToggle');-->
<!--        const sidebar = document.getElementById('sidebar');-->
<!--        const hamburger = document.getElementById('hamburger');-->
<!--        const overlay = document.getElementById('sidebarOverlay');-->

<!--        document.querySelectorAll('.main-button').forEach(button => {-->
<!--            button.addEventListener('click', event => {-->
<!--                event.stopPropagation();-->
<!--                const parent = button.parentElement;-->
<!--                const wasActive = parent.classList.contains('active');-->
<!--                document.querySelectorAll('.menu-item.active').forEach(item => item.classList.remove('active'));-->
<!--                if (!wasActive) parent.classList.add('active');-->
<!--            });-->
<!--        });-->

<!--        sidebarToggle.addEventListener('click', function() {-->
<!--            sidebar.classList.toggle('open');-->
<!--            hamburger.classList.toggle('open');-->
<!--            overlay.classList.toggle('active');-->
<!--            sidebarToggle.classList.toggle('moved');-->
<!--        });-->

<!--        overlay.addEventListener('click', function() {-->
<!--            sidebar.classList.remove('open');-->
<!--            hamburger.classList.remove('open');-->
<!--            overlay.classList.remove('active');-->
<!--            sidebarToggle.classList.remove('moved');-->
<!--        });-->

<!--        document.querySelectorAll('.nav-link').forEach(item => {-->
<!--            item.addEventListener('click', () => {-->
<!--                if (window.innerWidth <= 768) {-->
<!--                    sidebar.classList.remove('open');-->
<!--                    hamburger.classList.remove('open');-->
<!--                    overlay.classList.remove('active');-->
<!--                    sidebarToggle.classList.remove('moved');-->
<!--                }-->
<!--            });-->
<!--        });-->

<!--        window.addEventListener('resize', function() {-->
<!--            if (window.innerWidth > 768) {-->
<!--                sidebar.classList.remove('open');-->
<!--                hamburger.classList.remove('open');-->
<!--                overlay.classList.remove('active');-->
<!--                sidebarToggle.classList.remove('moved');-->
<!--            }-->
<!--        });-->
<!--    });-->
<!--</script>-->
<!--<script>-->
<!--    document.addEventListener("DOMContentLoaded", function () {-->
<!--        const tabButtons = document.querySelectorAll(".tab-button");-->
<!--        const contentAreas = document.querySelectorAll(".content-area");-->
<!--        const progressBar = document.getElementById("progress-bar");-->
<!--        const progressText = document.getElementById("progress-text");-->
<!--        const progressTitle = document.querySelector(".progress-title");-->

<!--        tabButtons.forEach(button => {-->
<!--            button.addEventListener("click", () => {-->
<!--                const selectedTabId = button.getAttribute("data-tab");-->
<!--                const etapaNombre = button.getAttribute("data-etapa-nombre");-->
<!--                const progreso = button.getAttribute("data-progreso");-->

<!--                // Activar el botón correcto-->
<!--                tabButtons.forEach(btn => btn.classList.remove("active"));-->
<!--                button.classList.add("active");-->

<!--                // Mostrar solo el contenido correspondiente-->
<!--                contentAreas.forEach(area => {-->
<!--                    area.classList.remove("active");-->
<!--                    if (area.id === selectedTabId) {-->
<!--                        area.classList.add("active");-->
<!--                    }-->
<!--                });-->

<!--                // Actualizar barra de progreso-->
<!--                progressBar.style.width = progreso + "%";-->
<!--                progressText.textContent = `${parseInt(progreso)}% Completado`;-->

<!--                // Actualizar título de progreso-->
<!--                progressTitle.textContent = `Tasa de Completado de ${etapaNombre}`;-->
<!--            });-->
<!--        });-->
<!--    });-->
<!--</script>-->


</body>
</html>